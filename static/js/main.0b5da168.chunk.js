(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e){e.exports=[{value:"9",title:"General Knowledge"},{value:"10",title:"Books"},{value:"11",title:"Film"},{value:"12",title:"Music"},{value:"13",title:"Musicals & Theatres"},{value:"14",title:"Television"},{value:"15",title:"Video Games"},{value:"16",title:"Board Games"},{value:"17",title:"Science & Nature"},{value:"18",title:"Computers"},{value:"19",title:"Mathematics"},{value:"20",title:"Mythology"},{value:"21",title:"Sports"},{value:"22",title:"Geography"},{value:"23",title:"History"},{value:"24",title:"Politics"},{value:"25",title:"Art"},{value:"26",title:"Celebrities"},{value:"27",title:"Animals"},{value:"28",title:"Vehicles"},{value:"29",title:"Comics"},{value:"30",title:"Gadgets"},{value:"31",title:"Japanese Anime & Manga"},{value:"32",title:"Cartoon & Animations"}]},112:function(e,t,a){e.exports=a(251)},117:function(e,t,a){},190:function(e,t,a){},251:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(103),s=a.n(c),i=(a(117),a(104)),l=a(42),o=a(105),u=a(110),m=a(106),f=a(111),b=a(3),d=a(73),g=function(e){return r.a.createElement("div",null,r.a.createElement("h2",{dangerouslySetInnerHTML:{__html:e.question}}))},p=a(17),h=a.n(p),v=a(46),j=a(43),E=a.n(j),O=a(44),y=a.n(O),S=a(45),w=a.n(S),C=Object(v.withStyles)(function(e){return{card:{margin:"10px",padding:"10px"}}})(function(e){return r.a.createElement(h.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},e.answers.map(function(t,a){return r.a.createElement(E.a,{className:e.classes.card,key:a,onClick:function(){return e.onSubmit(t)}},r.a.createElement(y.a,null,r.a.createElement(w.a,null,t)))}))}),I=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"The correct answer was ",e.correct,"!"))};var k=function(e){var t=Object(n.useState)({}),a=Object(b.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(!1),l=Object(b.a)(i,2),o=l[0],u=l[1],m=Object(n.useState)(""),f=Object(b.a)(m,2),p=f[0],h=f[1],v=Object(n.useState)([]),j=Object(b.a)(v,2),E=j[0],O=j[1],y=Object(n.useState)(""),S=Object(b.a)(y,2),w=S[0],k=S[1],M=Object(n.useState)(""),x=Object(b.a)(M,2),A=x[0],G=x[1];function H(){var e=[p||A].concat(Object(d.a)(E));!function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=[e[a],e[t]];e[t]=n[0],e[a]=n[1]}}(e),u(!0),O(e)}return Object(n.useEffect)(function(){s(e.question),O([e.question.results[0].correct_answer].concat(Object(d.a)(e.question.results[0].incorrect_answers)))},[]),r.a.createElement(r.a.Fragment,null,0===c.response_code?r.a.createElement(r.a.Fragment,null,r.a.createElement(g,{question:c.results[0].question}),o?w?r.a.createElement(I,{correct:c.results[0].correct_answer}):r.a.createElement(C,{answers:E,onSubmit:function(e){return k(e)}}):r.a.createElement("form",null,r.a.createElement("input",{type:"text",onChange:function(e){h(e.target.value)},placeholder:""!==A?A:""}),r.a.createElement("span",{onClick:function(){H()}},"Submit"),r.a.createElement("span",{onClick:function(){G(E[2])}},"Lie For Me"))):null)},M=(a(190),a(108)),x=r.a.createContext(null),A=function(e){return function(t){return r.a.createElement(x.Consumer,null,function(a){return r.a.createElement(e,Object.assign({},t,{firebase:a}))})}},G=x,H=a(71),q=a.n(H),F=(a(237),{apiKey:"AIzaSyAsdY2YHQDAVJ9ZJgsqNVB2kaB3A5jVmNY",authDomain:"fibbage-b1e4d.firebaseapp.com",databaseURL:"https://fibbage-b1e4d.firebaseio.com",projectId:"fibbage-b1e4d",storageBucket:"fibbage-b1e4d.appspot.com"}),R=function e(){var t=this;Object(l.a)(this,e),this.database=function(){return t.db},q.a.initializeApp(F),this.db=q.a.database()};var B=A(Object(v.withStyles)(function(e){return{card:{padding:"10px",margin:"10px"}}})(function(e){var t=Object(n.useState)([]),a=Object(b.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(!1),l=Object(b.a)(i,2),o=l[0],u=l[1],m=Object(n.useState)({}),f=Object(b.a)(m,2),d=f[0],g=f[1],p=Object(n.useState)([]),v=Object(b.a)(p,2),j=(v[0],v[1]),O=e.gameId,S=e.user,C=[];Object(n.useEffect)(function(){s(M),e.firebase.database().ref("games/"+O+"/players").once("value").then(function(e){C=e.val()}).then(function(){var e=C;j(e)})},[]);var I=e.classes;return r.a.createElement(h.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},o?r.a.createElement(k,{question:d,user:S,gameId:O}):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Choose a Category"),r.a.createElement(h.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},c.map(function(e,t){return r.a.createElement(E.a,{className:I.card,key:t,value:e.value,onClick:function(){var t;t=e.value,fetch("https://opentdb.com/api.php?amount=1&category=".concat(t,"&type=multiple")).then(function(e){return e.json()}).then(function(e){g(e),u(!0)})}},r.a.createElement(y.a,null,r.a.createElement(w.a,null,e.title)))}))))}));var J=A(function(e){var t=Object(n.useState)(!1),a=Object(b.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)([]),l=Object(b.a)(i,2),o=l[0],u=l[1],m=e.user,f=e.gameId,d={};return Object(n.useEffect)(function(){e.firebase.database().ref("games/"+f+"/players").once("value").then(function(e){d=e.val()}).then(function(){var e=Object.keys(d);u(e)}),e.firebase.database().ref("games/"+f).once("value").then(function(e){return e.val()}).then(function(e){e.started&&s(!0)})}),r.a.createElement(r.a.Fragment,null,c?r.a.createElement(B,{gameId:f,user:m}):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Players"),r.a.createElement("p",null,"Room: ",f),o.map(function(e,t){return r.a.createElement("span",{key:t},e)}),r.a.createElement("button",{onClick:function(){e.firebase.database().ref("games/"+f).update({started:!0})}},"Start Game")))}),P=a(109),_=a.n(P),N=a(72),V=a.n(N),T=A(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={gameId:"",user:"",existingRoom:!1,started:!1,errorMsg:""},a.startGameHandler=function(){a.setState({started:!0})},a.inputHandler=function(e){var t="gameId"===e.target.name?"Must enter a game id to join a game":"Must enter a username to join game";e.target.value.length>0?a.setState(Object(i.a)({},e.target.name,e.target.value)):a.setState({errorMsg:t})},a.joinRoom=function(){var e=a.state.gameId,t=a.state.user;a.props.firebase.database().ref("games/").once("value").then(function(n){if(!n.hasChild(e))return Promise.reject();a.props.firebase.database().ref("games/"+e+"/players/").once("value").then(function(n){if(n.hasChild(t))return Promise.reject();a.props.firebase.database().ref("games/"+e+"/players/"+t).set({points:0,id:V()()})}).then(function(){return a.setState({started:!0,existingRoom:!0})}).catch(function(){return a.setState({errorMsg:"Please enter another username."})})}).catch(function(){return a.setState({errorMsg:"Game does not exist."})})},a.startGameHandler=function(){if(a.state.user.length>0){var e=_.a.generate(),t=a.state.user;a.props.firebase.database().ref("games/"+e).set({gameOwner:t,started:!1}),a.props.firebase.database().ref("games/"+e+"/players/"+t).set({points:0,id:V()()}),a.setState({gameId:e,started:!0})}else a.setState({errorMsg:"Must enter a username to create game."})},a}return Object(f.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},this.state.started?r.a.createElement(J,{gameId:this.state.gameId,user:this.state.user}):r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",placeholder:"Enter a username",name:"user",onInput:this.inputHandler}),r.a.createElement("button",{onClick:this.startGameHandler},"Create a Room"),r.a.createElement("input",{type:"text",placeholder:"Enter a game id",name:"gameId",onInput:this.inputHandler}),r.a.createElement("button",{onClick:this.joinRoom},"Join Room"),r.a.createElement("p",null,this.state.errorMsg)))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(G.Provider,{value:new R},r.a.createElement(G.Consumer,null,function(e){return r.a.createElement(T,{firebase:e})})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[112,1,2]]]);
//# sourceMappingURL=main.0b5da168.chunk.js.map